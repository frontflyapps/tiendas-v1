<div *ngIf="loading" fxLayout='row' fxLayoutAlign='center center' style='height: 80vh'>
  <mat-spinner *ngIf="loading" diameter="60" color="accent"></mat-spinner>
</div>
<section *ngIf='!loading' class='m-4' style='min-height: 80vh; max-height: 100vh;'>
  <div fxLayout='row' fxLayoutAlign='center center'>
    <div fxLayout='column' class='w-100' *ngIf='hasLink'>
      <h2 fxLayoutAlign='center center'>{{'Enlace de referidos:' | translate}}</h2>
      <div fxLayout='row' fxLayoutAlign='center center' fxLayoutGap='6px' class='w-100'>

        <mat-form-field appearance='outline' class='w-50'>
          <mat-label>{{ 'Link' | translate }}</mat-label>
          <input
            [formControl]="form.controls['link']"
            matInput
            placeholder="{{ 'Link' | translate }}"
            readonly
            type='text'
          />
          <mat-icon matSuffix>link</mat-icon>
        </mat-form-field>
        <button (click)='copyLink()' [cdkCopyToClipboard]="form.controls['link'].value" mat-icon-button mat-stroked-button class='button-share' matTooltip='{{ "Copiar el enlace de referidos en el portapapeles" | translate}}'>
          <mat-icon>
            content_copy
          </mat-icon>
        </button>
      </div>
      <div fxLayout='row wrap' fxLayoutGap='8px'>
        <mat-card class='mat-elevation-z4' fxFlex='48' class='mb-2' fxLayout='row' fxLayoutAlign='start center'>
          <h2 mat-card-title>{{'Usuarios registrados con su enlace: ' | translate}}{{data?.ReferredPerson?.length ? data?.ReferredPerson?.length : 0}}</h2>
        </mat-card>
        <mat-card class='mat-elevation-z4' fxFlex='48' class='mb-2' fxLayout='row'>
          <h2 mat-card-title>{{'Usuarios que compraron con su enlace: ' | translate}}{{data?.Payments?.length ? data?.Payments?.length : 0}}</h2>
        </mat-card>
<!--        <mat-card class='mat-elevation-z4' fxFlex='48' class='mb-2' fxLayout='row'>-->
<!--          <h2 mat-card-title>{{'Descuento actual: ' | translate}}</h2>-->
<!--           <h2 mat-card-title class='mb-0' fxLayoutAlign='center center'>10</h2>-->
<!--        </mat-card>-->
<!--        <mat-card class='mat-elevation-z4' fxFlex='48' class='mb-2' fxLayout='row'>-->
<!--          <h2 mat-card-title>{{'Pr√≥ximo descuento: ' | translate}}</h2>-->
<!--           <h2 mat-card-title class='mb-0' fxLayoutAlign='center center'>10</h2>-->
<!--        </mat-card>-->
      </div>

    </div>
  </div>
</section>

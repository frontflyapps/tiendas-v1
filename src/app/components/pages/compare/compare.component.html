<div class="compare-component sec-padding">
  <div class="container">
    <div class="p-0">
      <div class="col-sm-12 empty-cart-cls text-center compare-arr" *ngIf="!products.length">
        <!--        <img src="assets/images/backet-01.png" class="img-fluid mb-4" />-->
        <mat-icon class="material-icons-outlined">
          compare_arrows
        </mat-icon>
        <h3 class="mb-5">
          <strong>{{ 'Lista de comparación vacía' | translate }}</strong>
        </h3>
        <h4 style="text-transform: none">{{ 'Explore más, preseleccione más artículos' | translate }}</h4>
      </div>
      <div class="table-responsive" *ngIf="products.length">
        <table class="table">
          <thead>
          <tr class="th-compare">
            <td>{{ 'Action' | translate }}</td>
            <th style="max-width: 180px" class="item-row" *ngFor="let product of products">
              <a
                class="mx-3 color-grey-700"
                matTooltip="{{ 'Eliminar de la lista' | translate }}"
                (click)="removeItem(product)"
              ><i class="material-icons">highlight_off</i></a
              >
              <a
                class="mx-3 color-grey-700"
                matTooltip="{{ 'Añadir al carrito' | translate }}"
                (click)="addToCart(product)"
              ><i class="material-icons">shopping_cart</i></a
              >
            </th>
          </tr>
          </thead>
          <tbody id="table-compare">
          <!-- Product Name -->
          <tr>
            <th class="product-name">{{ 'Product Name' | translate }}</th>
            <td style="max-width: 400px" class="grid-link__title" *ngFor="let product of products">
              <a
                [routerLink]="['/product']"
                [queryParams]="{
                    productId: product?.id,
                    stockId: product?.Stock?.id
                  }"
                class="link-nav-a"
              >{{ product.name[language] ? product.name[language] : product.name['es'] }}</a
              >
            </td>
          </tr>
          <!-- Product Price -->
          <tr>
            <th class="product-name">{{ 'Product Price' | translate }}</th>
            <td style="max-width: 400px" class="grid-link__title" *ngFor="let product of products">
              <ng-container *ngIf="product.offerValue">
                <p style="font-size: 12px">
                  <del>{{ currencyService.getPriceLabel(product) }}</del>
                  <span style="color: #e53935; font-size: 12px" class="ml-2 px-0"
                  >{{ product.offerValue
                    }}<span style="color: #e53935; font-size: 12px" *ngIf="product.isPercent">% </span>off</span
                  >
                </p>
                <p>{{ currencyService.getOfferLabel(product) }}</p>
              </ng-container>
              <ng-container *ngIf="!product.offerValue">
                <p>{{ currencyService.getPriceLabel(product) }}</p>
              </ng-container>
              <p class="mat-body-2" style="font-size: 14px">
                {{ 'Compra a partir de ' | translate }}
                {{ product.minSale }}
                {{ ' unidades' | translate }}
              </p>
            </td>
          </tr>
          <!-- Product Images -->
          <tr>
            <th class="product-name">{{ 'Product Image' | translate }}</th>
            <td style="max-width: 400px" class="item-row" *ngFor="let product of products">
              <img
                *ngIf="product.Images && product.Images.length"
                [src]="imageUrl + product.Images[0].image"
                width="185"
                class="featured-image"
              />
              <img
                *ngIf="!(product.Images && product.Images.length)"
                src="../../../../assets/images/noImage.jpg"
                width="185"
                class="featured-image"
              />
            </td>
          </tr>
          <!-- Product Description -->
          <tr>
            <th class="product-name">{{ 'Product Description' | translate }}</th>
            <td style="max-width: 400px" class="item-row" *ngFor="let product of products">
              <div
                *ngIf="product.description != null"
                class="InnerHtmlContent"
                [id]="'ProductId' + product.id"
                [innerHTML]="this.utilsService.publicSetDescription(product.description, language)"
              ></div>
              <div
                *ngIf="product.description == null"
                class="InnerHtmlContent"
                [id]="'ProductId' + product.id"
                [innerHTML]="'No tiene descripción'"
              ></div>
            </td>
          </tr>
          <tr>
            <th class="product-name">{{ 'Categoría' | translate }}</th>
            <td style="max-width: 400px" class="item-row" *ngFor="let product of products">
              {{ product.Category.name[language] ? product.Category.name[language] : product.Category.name['es'] }}
            </td>
          </tr>
          <tr>
            <th class="product-name">{{ 'Valoración' | translate }}</th>
            <td style="max-width: 400px" class="item-row" *ngFor="let product of products">
              <ngp-rating-material [value]="product.rating"></ngp-rating-material>
            </td>
          </tr>
          <!-- Product Availability -->
          <!-- <tr>
            <th class="product-name">{{"Product Availability"|translate}} </th>
            <td style="max-width: 400px;" class="available-stock" *ngFor="let product of products">
              <p *ngIf="product.stock>0"> Disponible en almacén </p>
              <p *ngIf="product.stock==0"> No disponible en almacén </p>
            </td>
          </tr> -->
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
